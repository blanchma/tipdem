ca_file = File.expand_path("config/cacert.pem", Rails.root)

ssl_options = {}
#ssl_options[:ca_path] = '/etc/ssl/certs'
ssl_options[:ca_file] = ca_file

require 'omniauth/oauth'

ActionController::Dispatcher.middleware.use OmniAuth::Builder do
  provider :facebook, APP_CONFIG["facebook_key"], APP_CONFIG["facebook_secret"],
    :scope => %(email,user_location,user_birthday,user_groups,read_stream,publish_stream,offline_access),
    :client_options => {:ssl => ssl_options}
  provider :twitter, APP_CONFIG["twitter_key"],APP_CONFIG["twitter_secret"]
  provider :linked_in, APP_CONFIG["linkedin_key"],APP_CONFIG["linkedin_secret"]
end

#Non Global Configuration for Twitter https://github.com/jnunemaker/twitter
Twitter.configure do |config|
  config.consumer_key = APP_CONFIG['twitter_key']
  config.consumer_secret = APP_CONFIG['twitter_secret']
end      